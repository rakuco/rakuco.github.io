<html>

<head>
  <script>
    window.addEventListener('load', () => {
      console.log("onload");
      window.addEventListener('deviceorientation', e => { console.log(e) });
      coeh();
    });

    function coeh() {
      DeviceOrientationEvent.requestPermission().then(p => {
        console.log("permission: " + p);
      }, err => { console.log(err) });
    }
  </script>
</head>

<body>
  <input type="button" value="click me" onclick="coeh()" />
</body>

</html>
